<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Loop In-Out (One line)</title>
    <link rel="stylesheet" href="../css/cg.css">
</head>
<body>
    <div id="mainlayout">
        <div id="container" class="container"></div>
    </div>
    <script type="text/javascript" src="../js/jquery-latest.min.js"></script>
    <script type="text/javascript" src="../js/jquery.lettering.min.js"></script>
    <script type="text/javascript" src="../js/gsap.min.js"></script>
    <script type="text/javascript" src="../js/helpers.js"></script>
    <script type="text/javascript" src="../js/caspar.js"></script>
    <script>

        // ELEMENTS
        let _container = document.getElementById('container');
        texts.push(new TextBlock("text1", _container));
        texts.push(new TextBlock("text2", _container));
        loops.push(new VideoLoop("bg", _container));

        // PLAYOUT FUNCTIONS

        function play ()
        {
            playElements();
        }

        function stop ()
        {
            stopElements();
        }

        function next ()
        {

        }

        // DATA PARSER
        
        function update (data) 
        {
            getData(data);
            
            for (let i in Object.keys(jsdata))
            {
                var _param = Object.keys(jsdata)[i];
                var _value = Object.values(jsdata)[i];
                checkTemplateParam(_param,_value,lout,["#container"]);
                checkTextParam(_param,_value);
                checkLoopParam(_param,_value);

                switch(_param)
                {
                    case "width":
                        _container.style.width = getWidth(_value);
                        break;
                    case "height":
                        _container.style.height = getHeight(_value);
                        break;
                }
            }
            if(tpl_init)
            {
                checkTextChange();
            }
            else
            {
                initElements();
            }

        }

    </script>
</body>
</html>